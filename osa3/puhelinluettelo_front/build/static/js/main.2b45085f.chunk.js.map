{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Person.js","components/Persons.js","services/phonebook.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","name","number","handleName","handleNum","handleAddPerson","value","onChange","onClick","Filter","Person","onDelete","Persons","filtered","persons","length","map","person","id","baseUrl","exportedObject","getAll","axios","get","then","response","data","create","newPersonObj","post","remove","delete","update","newObj","put","Notification","message","Object","keys","messageStyles","color","isError","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","text","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","filteredPersons","setFilteredPersons","errorMessage","setErrorMessage","useEffect","phoneService","event","filteredString","target","filteredArray","filter","toLowerCase","includes","preventDefault","personObj","find","window","confirm","changedPerson","returnedNum","setTimeout","catch","error","concat","error_message","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2b45085f.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = ({name,number,handleName,handleNum,handleAddPerson}) => {\r\n\r\n\r\n    return (\r\n        <div>\r\n            <form>\r\n                <div>\r\n                    Name: <input value={name} onChange={handleName}/>\r\n                </div>\r\n                <div>\r\n                    Number: <input value={number} onChange={handleNum}/>\r\n                </div>\r\n                <div>\r\n                    <button onClick={handleAddPerson}>Add</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({ onChange }) => {\r\n\r\n    return (\r\n        <div>\r\n            Filter the phonebook: <input onChange={onChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\n\r\nconst Person = ({ name, number, onDelete}) => {\r\n    return (\r\n        <>\r\n        <span>{name} {number}</span>\r\n        <button onClick={onDelete}>Delete</button>\r\n        <br/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\n\r\nconst Persons = ({ filtered, persons, onDelete }) => {\r\nif (filtered.length > 0) {\r\n    return (\r\n        filtered.map((person => {\r\n            return <Person \r\n                        key={person.name} \r\n                        name={person.name} \r\n                        number={person.number}\r\n                        onDelete={onDelete}\r\n                    />\r\n        }))\r\n    )\r\n} else {\r\n    return (\r\n        persons.map((person => {\r\n            return <Person \r\n                        key={person.name} \r\n                        name={person.name} \r\n                        number={person.number}\r\n                        onDelete={() => onDelete(person.id, person.name)}\r\n                    />\r\n        }))\r\n    )\r\n}\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newPersonObj => {\r\n    const request = axios.post(baseUrl, newPersonObj)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    return axios.delete(baseUrl + '/' + id)\r\n}\r\n\r\nconst update = (newObj) => {\r\n    const request = axios.put(`${baseUrl}/${newObj.id}`, newObj)\r\n    return request.then(response => response.data)\r\n\r\n}\r\n\r\nconst exportedObject = {\r\n    getAll,\r\n    create,\r\n    remove,\r\n    update\r\n}\r\n\r\nexport default exportedObject","import React from 'react'\r\n\r\nconst Notification = ({message}) => {\r\n    if (Object.keys(message).length === 0) {\r\n        return null\r\n    }\r\n\r\n    const messageStyles = {\r\n        color: message.isError ? 'red' : 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n    }\r\n\r\n    return (\r\n        <div style={messageStyles}>\r\n            {message.text}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport phoneService from './services/phonebook'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filteredPersons, setFilteredPersons] = useState([])\n  // Success and error messages are controlled with errorMessage state\n  const [errorMessage, setErrorMessage] = useState({})\n\n  useEffect(() => {\n    phoneService\n      .getAll()\n      .then(data => {\n        setPersons(data)\n      })\n  }, [])\n\n  const handleAddNumber = (event) => {\n    event.preventDefault()\n    const personObj = persons.find(person => person.name === newName)\n    if (personObj) {\n      // If confirm is true, the number is updated\n      if(window.confirm(personObj.name + ' is already in the phonebook. Do you wish to update the phone number?')){\n        const changedPerson = {...personObj, number: newNumber}\n        phoneService.update(changedPerson).then(returnedNum => {\n          setPersons(persons.map(person => person.id !== personObj.id ? person : returnedNum))\n          // Success message\n          setErrorMessage({...errorMessage, 'text':`${personObj.name} phone number was updated`, 'isError':false})\n          setTimeout(() => {\n            setErrorMessage({})\n          }, 4000)\n        }).catch(error => {\n          // Error message\n          setErrorMessage({...errorMessage, 'text':`${personObj.name} was already deleted from the server.`, 'isError':true})\n          setTimeout(() => {\n            setErrorMessage({})\n          }, 4000)\n        })\n      } \n    } else {\n      const newPersonObj = {\n        name: newName,\n        number: newNumber,\n      }\n      phoneService\n        .create(newPersonObj)\n        .then(data => {\n          setPersons(persons.concat(data))\n          setNewName('')\n          setNewNumber('')\n          // Success message\n          setErrorMessage({...errorMessage, 'text':`Added ${newPersonObj.name} to the PhoneBook`, 'isError':false})\n          setTimeout(() => {\n            setErrorMessage({})\n          }, 4000)\n        }).catch(error => {\n          // const error_message = error.response\n          const error_message = error.response.data.error\n          setErrorMessage({...errorMessage, 'text': `${error_message}`, 'isError': true })\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handlePersonFilter = (event) => {\n    const filteredString = event.target.value\n    if (filteredString !== '') {\n      const filteredArray = persons.filter((person) => {\n        return person.name.toLowerCase().includes(filteredString.toLowerCase())\n      })\n      setFilteredPersons(filteredArray)\n    } else {\n      setFilteredPersons([])\n    }\n  }\n\n  const handleDeletePerson = (id, name) => {\n    if (window.confirm('Delete ' + name + ' ?')) {\n      phoneService.remove(id)\n      setPersons(persons.filter(person => person.id !== id))\n      // Success message\n      setErrorMessage({...errorMessage, 'text':`Removed ${name} from the PhoneBook`, 'isError':false})\n      setTimeout(() => {\n        setErrorMessage({})\n      }, 4000)\n    }\n  }\n\n  return (\n    <div>\n      <h2>PhoneBook</h2>\n      <Notification message={errorMessage} />\n      <Filter onChange={handlePersonFilter} />\n      <h2>Add new person to the phonebook</h2>\n      <PersonForm name={newName}\n        number={newNumber}\n        handleName={handleNameChange}\n        handleNum={handleNumberChange}\n        handleAddPerson={handleAddNumber} />\n      <h2>Numbers</h2>\n      <Persons filtered={filteredPersons} persons={persons} onDelete={handleDeletePerson} />\n    </div>\n  )\n\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}